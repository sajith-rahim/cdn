sample(1:10)
1:10
sample(1:10)
sample(1:10)
sample(1:10)
1:10
hat_match <- function(n=10){
sample0 <- sample(1:n)
matches <- sample0(sample0 == 1:n)
return(matches)
}
hat_match(10)
hat_match <- function(n=10){
sample0 <- sample(1:n)
matches <- sample(sample0 == 1:n)
return(matches)
}
hat_match(10)
hat_match <- function(n=10){
sample0 <- sample(1:n)
matches <- sample[sample0 == 1:n]
return(matches)
}
hat_match(10)
hat_match <- function(n=10){
sample0 <- sample(1:n)
matches <- sample0[sample0 == 1:n]
return(matches)
}
hat_match(10)
hat_match(10)
hat_match(10)
hat_match(10)
hat_match(10)
hat_match(10)
hat_match(10)
hat_match(10)
hat_match(10)
hat_match(10)
hat_match <- function(n=10){
sample0 <- sample(1:n)
matches <- sample0[sample0 == 1:n].length
return(matches)
}
#HatProblem
sample(1:10)
hat_match <- function(n=10){
sample0 <- sample(1:n)
matches <- length(sample0[sample0 == 1:n])
return(matches)
}
hat_match(10)
hat_match(10)
hat_match(10)
hat_match(10)
#HatProblem
sample(1:10)
hat_match <- function(n=10){
sample0 <- sample(1:n)
matches <- length(sample0[sample0 == 1:n])
return(matches)
}
hat_match(10)
hat_match(10)
hat_match(10)
#HatProblem
#sample(1:10)
hat_match <- function(n=10){
sample0 <- sample(1:n)
#matches <- length(sample0[sample0 == 1:n])
matches <- sum(sample0 == 1:n)
return(matches)
}
hat_match(10)
hat_match(10)
hat_match(10)
hat_match(10)
hat_match(10)
hat_match(10)
hat_match(10)
hat_match(10)
hat_match(10)
hat_match(10)
hat_match(10)
hat_match(10)
hat_match(10)
hat_match(10)
hat_match(10)
hat_match(10)
hat_match(10)
hat_match(10)
hat_match(10)
hat_match(10)
hat_match(10)
hat_match(10)
hat_match(10)
hat_match(10)
hat_match(10)
hat_match(10)
hat_match(10)
hat_match(10)
replicate(1000,hat_match)
replicate(1000,hat_match())
table(replicate(1000,hat_match()))
#HatProblem
#sample(1:10)
hat_match <- function(n=10){
sample0 <- sample(1:n)
#matches <- length(sample0[sample0 == 1:n])
matches <- sum(sample0 == 1:n)
return(matches)
}
replicate(1000,hat_match())
hat_match_none <- function(n1=10,n2=10){
sample_none <- replicate(n1,hat_match(n2))
return(sum(sample_none == 0))
}
hat_match_none()
hat_match_none()
trials <- sapply(1:25,hat_match_none)
trials
trials <- sapply(1:25,hat_match_none,1000)
trials
trials <- sapply(1:25,hat_match_none,10000)
plot(1:25,trials)
trials <- sapply(1:21,hat_match_none,10000)
plot(1:21,trials)
hat_match_none(20)
hat_match_none <- function(n1=10,n2=10){
sample_none <- replicate(n2,hat_match(n1))
return(sum(sample_none == 0)/10000)
}
trials <- sapply(1:21,hat_match_none,10000)
plot(1:21,trials)
hat_match_none(20)
abline(hat_match_none(20))
abline(h=hat_match_none(20))
abline(h=hat_match_none(20))
abline(h=hat_match_none(20))
abline(h=hat_match_none(20))
abline(h=hat_match_none(20))
abline(h=hat_match_none(20))
abline(h=hat_match_none(20))
plot(1:21,trials)
abline(h=hat_match_none(20))
sample(rep(c(1:2),5))
rep(c(1:2),5)
rep(c(1:2),c(5,5)
)
sample(rep(c(1:2),c(5,5)))
hat_match_duo <- function(n=2){
sample0 <- sample(c(1,2),1:n)
#matches <- length(sample0[sample0 == 1:n])
matches <- sum(sample0 == 1:n)
return(matches)
}
sample(rep(c(1:2),1:5)
)
sample(rep(c(1:2),1:5))
sample(rep(c(1:2),1:2))
rep(c(1:2),c(10,10)
)
View(hat_match_duo)
View(hat_match_duo)
function(n=2){
sample0 <- sample(c(1,2),c(n,n))
#matches <- length(sample0[sample0 == c(n,n)])
matches <- sum(sample0 == c(n,n))
return(matches)
}
hat_match_duo <- function(n=2){
sample0 <- sample(c(1,2),c(n,n))
#matches <- length(sample0[sample0 == c(n,n)])
matches <- sum(sample0 == c(n,n))
return(matches)
}
hat_match_duo(3)
rep(1,3)
hat_match_duo <- function(n=2){
sample0 <- sample(c(rep(1,n),rep(2,n)))
#matches <- length(sample0[sample0 == c(n,n)])
matches <- sum(sample0 == c(n,n))
return(matches)
}
hat_match_duo(3)
hat_match_duo(3)
hat_match_duo(3)
hat_match_duo(3)
hat_match_duo(3)
hat_match_duo(3)
hat_match_duo(3)
hat_match_duo <- function(n=2){
sample0 <- sample(c(rep(1,n),rep(2,n)))
#matches <- length(sample0[sample0 == c(n,n)])
matches <- sum(sample0 == c(n,n))
return(matches)
}
c(rep(1,n),rep(2,n))
n=10
c(rep(1,n),rep(2,n))
hat_match_duo <- function(n=2){
sample0 <- sample(c(rep(1,n),rep(2,n)))
#matches <- length(sample0[sample0 == c(rep(1,n),rep(2,n))])
matches <- sum(sample0 == c(rep(1,n),rep(2,n)))
return(matches)
}
c(rep(1,n),rep(2,n))
matches <- replicate(1000,hat_match_duo())
matches
table(matches)
View(hat_match_duo)
sample(c(rep(1,n),rep(2,n)))
c(rep(1,n),rep(2,n))
sample0 == c(rep(1,n),rep(2,n))
sample(c(rep(1,n),rep(2,n))) == c(rep(1,n),rep(2,n))
n
matches <- replicate(1000,hat_match_duo(10))
table(matches)
matches <- replicate(1000,hat_match_duo(10))
table(matches)
matches <- replicate(1000,hat_match_duo(10))
table(matches)
331+254+87+6
mean(matches)
mean(matches >= 10)
hist(matches)
save.image("~/MonteCarloWorkSpace.RData")
install.packages("mclust")
library(mclust)
View(diabetes)
?BASE
??base
base(c)
compute_w <- function(X, Y, phi) {
Phi <- sapply(phi, function(base) base(X))  # make design matrix
solve(t(Phi) %*% Phi) %*% t(Phi) %*% Y      # find maximum likelihood
}
# some basis egs
one <- function(x) rep(1,length(x))
id  <- function(x) x
sq  <- function(x) x^2
x3  <- function(x) x^3
x4  <- function(x) x^4
And letâ€™s apply this to some egs. First to the standard linear regression:
# some data
X <- c(1,2,3,5,7)
Y <- c(3,5,6,12,21)
# basis for linear regression
phi <- c(one, id)
W <- compute_w(X, Y, phi)
W
# some basis egs
one <- function(x) rep(1,length(x))
id  <- function(x) x
sq  <- function(x) x^2
x3  <- function(x) x^3
x4  <- function(x) x^4
# some data
X <- c(1,2,3,5,7)
Y <- c(3,5,6,12,21)
# basis for linear regression
phi <- c(one, id)
W <- compute_w(X, Y, phi)
W
??points
m <- sapply(phi,function(base) base(xs))
xs     <- seq(min(X),max(X),len=50)
xs
m <- sapply(phi,function(base) base(xs))
m
source('~/PMRL-R-Workspace/Linear Basis Models.R')
source('~/PMRL-R-Workspace/Linear Basis Models.R')
source('~/PMRL-R-Workspace/Linear Basis Models.R')
source('~/PMRL-R-Workspace/Linear Basis Models.R')
source('~/PMRL-R-Workspace/Linear Basis Models.R')
source('~/PMRL-R-Workspace/Linear Basis Models.R')
source('~/PMRL-R-Workspace/Linear Basis Models.R')
# basis for quadratic regression
phi <- c(one, id, sq)
W <- compute_w(X, Y, phi)
plot(X,Y,pch=19)
draw_regression(X,W,phi)
draw_regression(X,W,phi)
phi <- c(one, id, function(x) sin(x))
W <- compute_w(X, Y, phi)
plot(X,Y,pch=19)
draw_regression(X,W,phi)
?plot
?abline
source('~/PMRL-R-Workspace/Linear Basis Models-Regularization.R')
source('~/PMRL-R-Workspace/Linear Basis Models-Regularization.R')
?plot
source('~/PMRL-R-Workspace/Linear Basis Models-Regularization.R')
source('~/PMRL-R-Workspace/Linear Basis Models-Regularization.R')
#----------------------------------------------------------
#----------------Linear Basis Models Sequential Learning---
source('~/PMRL-R-Workspace/Linear Basis Models-Sequential.R')
source('~/PMRL-R-Workspace/Linear Basis Models-Sequential.R')
source('~/PMRL-R-Workspace/Linear Basis Models-Sequential.R')
setwd("~/PMRL-R-Workspace/Chapter 10")
# KL for continuous functions
KL <- function(q, p, lower, upper, ...) {
f <- function(x) q(x, ...) * log(q(x, ...)/p(x))
integrate(f, lower, upper)$value
}
p <- function(x) dgamma(x, shape=3.0, scale=0.25)
q1 <- function(x) dlnorm(x, 0, 1)
q2 <- function(x) dlnorm(x, 0, .45)
curve(p, 0, 6, lwd=2, ylab="")
curve(q1,      0, 6, lwd=2, col="red",   add=T)
curve(q2,      0, 6, lwd=2, col="green", add=T)
KL(q1,p, lower=1e-3, upper=100)
## [1] 1.709245
KL(q2,p, lower=1e-3, upper=100)
KL <- function(q, p, lower, upper, ...) {
f <- function(x) q(x, ...) * log(q(x, ...)/p(x))
integrate(f, lower, upper)$value #Sum-over for discrete
}
variational_lnorm <- function(p_unnormalized, lower, upper) {
q <- dlnorm # Let q be a log-normal
J <- function(params) {
KL(q, p_unnormalized, lower=lower, upper=upper, meanlog=params[1], sdlog=params[2])
}
optim(par=c(0, 1), fn=J)$par
}
p_unnormalized <- function(x) dgamma(x, shape=3.0, scale=0.25)
curve(p_unnormalized, 0, 6, lwd=2, ylab="", ylim=c(0,1.25))
approximation_params <- variational_lnorm(p_unnormalized, lower=1e-3, upper=100)
# approximated distribution:
q <- function(x) dlnorm(x, approximation_params[1], approximation_params[2])
KL(q,p_unnormalized,1e-3,10) # compute their distance
curve(q,       0, 6, lwd=2, col="red",   add=T)
q <- dlnorm
q
??dlnorm
??print
print("ddddddddddd")
??optim
